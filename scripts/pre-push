#!/bin/bash
#
# Pre-push hook: Ensures typecheck and tests pass before pushing.
# Install with: bun run setup:hooks
#

echo "Running pre-push checks..."

# Run typecheck and tests
bun run verify
status=$?

if [ $status -ne 0 ]; then
    echo ""
    echo "❌ Pre-push check failed!"
    echo "   Fix typecheck errors or failing tests before pushing."
    echo ""
    exit 1
fi

echo "✅ Pre-push checks passed!"
exit 0
